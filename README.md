Part of logic from handurus backend will be moved here
